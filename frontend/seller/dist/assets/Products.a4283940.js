import{P as D,_ as z}from"./AddnewProduct.70e9ec81.js";import{_ as N,u as j,g as $,o as s,c as a,a as e,p as V,b as P,d as R,r as B,e as t,f as y,t as o,F as h,h as S,i as C,j as L,k as w,l as H,m as k,A as T,P as A}from"./index.38dbfffa.js";const I=u=>(V("data-v-2eb6b4ef"),u=u(),P(),u),Q={class:"overlay top-0 left-0 bottom-0 right-0 flex items-center justify-center"},U=I(()=>e("div",null,"are you sure you want to delete?",-1)),q={__name:"Delete",props:{id:Number},emits:["canceldelete","deletenotify"],setup(u,{emit:p}){const m=u,v=async f=>{console.log("deleting"),await i(),p("deletenotify")},_=f=>{p("canceldelete")},{mutate:i}=j($`
    mutation MyMutation($id: uuid = "") {
      delete_products_by_pk(id: $id) {
        id
      }
    }
  `,()=>({variables:{id:m.id}}));return(f,r)=>(s(),a("div",Q,[e("div",{class:"space-y-80 h-40 w-auto bg-white rounded-md"},[e("div",{class:"inline-flex w-auto border-zinc-900 h-auto justify-center"},[e("div",{class:"space-y-2 h-auto p-5"},[e("div",{class:"flex justify-end"},[e("button",{onClick:_,class:"font-bold text-4xl text-black hover:text-white hover:bg-black h-10 w-10 rounded-md"}," x ")]),U,e("div",{class:"flex space-x-2"},[e("button",{onClick:v,class:"w-24 h-10 bg-red-500 rounded-md text-white hover:bg-red-800"}," delete "),e("button",{onClick:_,class:"w-24 h-10 bg-sky-600 rounded-md text-white hover:bg-emerald-400"}," cancel ")])])])])]))}},E=N(q,[["__scopeId","data-v-2eb6b4ef"]]),F={class:"overlay px-10 sm:px-0 sm:py-4 py-2 z-50 top-0 left-10 right-10 bottom-10 flex items-center justify-center"},O={class:"space-y-4 auto w-full h-full sm:w-1/2 md:w-3/4 lg:w-1/2 bg-white rounded-md"},W={class:"flex justify-between items-center px-4 pt-3"},Y=e("div",null,null,-1),G=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),J=[G],K={key:0},X={key:1},Z={key:2,class:"flex justify-center items-center"},ee={class:"font-bold text-lg italic underline flex justify-center items-center"},te={class:"py-3 italic flex justify-center items-center"},se={class:""},ie=e("div",{class:"font-bold"},"price",-1),ae={class:"flex"},le={class:"flex flex-wrap space-x-2"},ce=["src"],oe={class:"overlay fixed mt-4 sm:w-1/2 mx-auto md:w-3/4 lg:w-1/2 bg-slate-400 px-10 sm:px-0 z-50 top-0 left-10 right-10 bottom-10 flex items-center justify-center"},ne={class:"space-y-4 h-full w-full overflow-y-scroll bg-white shadow-lg rounded-md"},re={class:"flex justify-between items-center px-4 pt-3"},de=e("div",null,null,-1),ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),_e=[ue],pe={key:0},ve={key:1,class:"h-full flex justify-center items-center w-full"},ge=L('<div class="flex justify-center h-full items-center"><div class="w-full"><svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24"><g><circle cx="12" cy="3" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate0" attributeName="r" begin="0;svgSpinners12DotsScaleRotate2.end-0.5s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="16.5" cy="4.21" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate1" attributeName="r" begin="svgSpinners12DotsScaleRotate0.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="7.5" cy="4.21" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate2" attributeName="r" begin="svgSpinners12DotsScaleRotate4.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="19.79" cy="7.5" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate3" attributeName="r" begin="svgSpinners12DotsScaleRotate1.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="4.21" cy="7.5" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate4" attributeName="r" begin="svgSpinners12DotsScaleRotate6.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="21" cy="12" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate5" attributeName="r" begin="svgSpinners12DotsScaleRotate3.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="3" cy="12" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate6" attributeName="r" begin="svgSpinners12DotsScaleRotate8.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="19.79" cy="16.5" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate7" attributeName="r" begin="svgSpinners12DotsScaleRotate5.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="4.21" cy="16.5" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate8" attributeName="r" begin="svgSpinners12DotsScaleRotatea.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="16.5" cy="19.79" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotate9" attributeName="r" begin="svgSpinners12DotsScaleRotate7.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="7.5" cy="19.79" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotatea" attributeName="r" begin="svgSpinners12DotsScaleRotateb.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><circle cx="12" cy="21" r="1" fill="currentColor"><animate id="svgSpinners12DotsScaleRotateb" attributeName="r" begin="svgSpinners12DotsScaleRotate9.begin+0.1s" calcMode="spline" dur="0.6s" keySplines=".27,.42,.37,.99;.53,0,.61,.73" values="1;2;1"></animate></circle><animateTransform attributeName="transform" dur="6s" repeatCount="indefinite" type="rotate" values="360 12 12;0 12 12"></animateTransform></g></svg></div></div>',1),he=[ge],me={key:2,class:"mx-5 space-y-2"},fe={class:"flex flex-wrap justify-between"},ye={class:"sm:w-[45%] space-y-2"},be={class:"w-full"},xe=["src"],we={class:"flex space-x-1"},Se={class:"flex flex-wrap space-x-1"},ke=["src"],Ce={class:"sm:w-1/2 flex text-left"},De={class:"space-y-3"},$e={class:"font-bold capitalize text-center text-2xl flex items-center"},Re={class:"flex space-x-3"},Me={class:"flex text-green-800 text-xl text-center"},ze={class:"py-1 text-lg text-gray-800 flex justify-center items-center"},Ne=e("h1",{class:"font-bold"},"Product reviews",-1),je={class:"space-x-2"},Ve={class:"flex space-x-2 items-center"},Pe=e("div",{class:"w-12 h-12 bg-gray-500 rounded-full flex justify-center items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-person",viewBox:"0 0 16 16"},[e("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})])],-1),Be={class:"text-orange-600 hover:underline"},Le={class:"font-bold pl-9"},He={class:"flex space-x-2"},Te={class:""},Ae={__name:"ProductDetail",props:{id:Number},emits:["close"],setup(u,{emit:p}){const m=u,{error:v,loading:_,result:i}=R($`
  query MyQuery($id: uuid = "") {
      products_by_pk(id: $id) {
        about_product
        created_at
        id
        price
        product_description
        product_image
        product_name
        updated_at
        number_of_likes
        is_carted
        is_favorite
        is_liked
        category_id
        category {
          name
        }
        average_rates
        average_rate
        product_reviews {
          comment
          rate
          created_at
          customer {
            first_name
            last_name
          }
        }
        product_reviews_aggregate {
          aggregate {
            count(distinct: false)
          }
        }
      }
    }
  `,()=>({id:m.id}));return D(),(f,r)=>{var g,x;const b=B("StarRating");return s(),a(h,null,[e("div",null,[e("div",F,[e("div",O,[e("div",W,[Y,e("button",{class:"p-3 hover:bg-red-800 rounded-lg",onClick:r[0]||(r[0]=()=>p("close"))},J)]),t(v)?(s(),a("div",K,"error in fetching products")):y("",!0),t(_)?(s(),a("div",X,"loading Please Wait")):(s(),a("div",Z,[e("div",null,[e("div",ee,o(t(i).products_by_pk.product_name),1),e("div",te,o(t(i).products_by_pk.about_product),1),e("div",se,[ie,e("div",null,o(t(i).products_by_pk.price),1),e("div",ae,[(s(!0),a(h,null,S(t(i).products_by_pk.product_image.split(","),c=>(s(),a("div",le,[e("img",{src:c,class:"w-20 h-20"},null,8,ce)]))),256))])])])]))])])]),e("div",oe,[e("div",ne,[e("div",re,[de,e("button",{class:"p-3 hover:bg-black hover:text-white rounded-lg",onClick:r[1]||(r[1]=()=>p("close"))},_e)]),t(v)?(s(),a("div",pe,o(t(v)),1)):y("",!0),t(_)?(s(),a("div",ve,he)):(s(),a("div",me,[e("div",fe,[e("div",ye,[e("div",be,[e("img",{src:t(i).products_by_pk.product_image.split(",")[0],class:"w-full"},null,8,xe)]),e("div",we,[(s(!0),a(h,null,S(t(i).products_by_pk.product_image.split(","),c=>(s(),a("div",Se,[e("img",{src:c,class:"w-32 h-24"},null,8,ke)]))),256))])]),e("div",Ce,[e("div",De,[e("div",$e,o(t(i).products_by_pk.product_name),1),e("div",Re,[C(b,{rating:t(i).products_by_pk.average_rate,"read-only":!0,increment:.005,"star-size":24},null,8,["rating","increment"]),e("div",null," ("+o(t(i).products_by_pk.product_reviews_aggregate.aggregate.count)+")Reviews ",1)]),e("div",Me," $ "+o(t(i).products_by_pk.price),1),e("div",ze,o(t(i).products_by_pk.about_product),1)])])]),e("div",null,[Ne,(s(!0),a(h,null,S((x=(g=t(i))==null?void 0:g.products_by_pk)==null?void 0:x.product_reviews,c=>{var d,l;return s(),a("div",{class:"py-2",key:c.id},[e("div",je,[e("div",Ve,[Pe,e("button",Be,o(((d=c.customer)==null?void 0:d.first_name)+" "+((l=c.customer)==null?void 0:l.last_name)),1)]),e("div",Le,[e("div",He,[C(b,{class:"justify-end","read-only":!0,rating:c.rate,"onUpdate:rating":n=>c.rate=n,increment:.05,"active-color":"#d6612d","star-size":8},null,8,["rating","onUpdate:rating","increment"]),e("div",null,o(c.created_at.split("T")[0]),1)]),e("div",Te,o(c.comment),1)])])])}),128))])]))])])],64)}}},Ie={class:"overflow-x-scroll"},Qe={class:"flex justify-between"},Ue=e("div",null,null,-1),qe={class:"w-full pt-2 text-sm text-left text-gray-500 dark:text-gray-400"},Ee=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"py-3 px-2"},"Product name"),e("th",{class:"py-3 px-2"},"Products Reviews"),e("th",{class:"py-3 px-2"},"Quantity"),e("th",{class:"py-3 px-2"},"Release Date"),e("th",{class:"py-3 px-2"},"activity")])],-1),Fe={class:"px-2"},Oe={class:"py-3 px-2"},We={class:"py-3 px-2"},Ye={class:"py-3 px-2"},Ge={class:"py-3 px-2"},Je={class:"py-3 px-2"},Ke={class:"flex space-x-2"},Xe=["onClick"],Ze=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}),e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"})],-1),et=[Ze],tt=["onClick"],st=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",class:"bi bi-trash",viewBox:"0 0 16 16"},[e("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1),it=[st],at={class:"overflow-hidden h-screen"},ot={__name:"Products",setup(u){const{error:p,result:m,loading:v,refetch:_}=R(A),i=w(!1);D();const f=H(()=>{var d,l;return(l=(d=m.value)==null?void 0:d.products)!=null?l:[]}),r=w(0),b=d=>{r.value=d,i.value=!0},g=w(!1),x=d=>{r.value=d,g.value=!0},c=w(!1);return(d,l)=>(s(),a(h,null,[e("div",Ie,[e("div",Qe,[Ue,e("button",{onClick:l[0]||(l[0]=n=>c.value=!0),class:"text-green-900 p-4 mb-2 capitalize rounded-lg bg-orange-400"}," add new product ")]),e("table",qe,[Ee,e("tbody",Fe,[(s(!0),a(h,null,S(t(f),n=>(s(),a("tr",{key:n.id,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("td",Oe,o(n.product_name),1),e("td",We,o(n.product_reviews_aggregate.aggregate.count),1),e("td",Ye,o(n.quantity),1),e("td",Ge,o(n.created_at.split("T")[0]),1),e("td",Je,[e("div",Ke,[e("button",{onClick:M=>x(n.id)},et,8,Xe),e("button",{onClick:M=>b(n.id)},it,8,tt)])])]))),128))])])]),e("div",at,[c.value?(s(),k(z,{key:0,onClose:l[1]||(l[1]=()=>{t(_)(),c.value=!1})})):y("",!0)]),g.value?(s(),k(Ae,{key:0,id:r.value,onClose:l[2]||(l[2]=n=>g.value=!1)},null,8,["id"])):y("",!0),i.value?(s(),k(E,{key:1,onCanceldelete:l[3]||(l[3]=n=>i.value=!1),id:r.value,onDeletenotify:l[4]||(l[4]=()=>{i.value=!1,t(_)(),t(T)({type:"success",text:"Product Deleted Successfully"})})},null,8,["id"])):y("",!0)],64))}};export{ot as default};
